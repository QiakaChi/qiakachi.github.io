<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark" data-light-theme="light" lang="zh-CN">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />
    <style>body[data-ui-pending] #content {opacity:0;transition:opacity 0.3s ease;}</style><script>document.documentElement.setAttribute('data-ui-pending','true');</script><link rel='stylesheet' href='assets/GmeekBaseTheme.css'><script src='assets/GmeekCustomizeCss.js' defer></script><script src='https://blog.meekdai.com/Gmeek/plugins/GmeekTOC.js'></script><script src='https://blog.meekdai.com/Gmeek/plugins/lightbox.js'></script>
    <link rel="icon" href="https://avatars.githubusercontent.com/u/98450248?v=4"><script>
        let theme = localStorage.getItem("meek_theme") || "light";
        document.documentElement.setAttribute("data-color-mode", theme);
    </script>
<meta name="description" content="官方仓库：[https://github.com/GAIR-NLP/PC-Agent-E](https://github.com/GAIR-NLP/PC-Agent-E)

<details class='lake-collapse'><summary id='u7e8ced35'><span class='ne-text' style='font-size: 16px'>【AI整理】论文速读</span></summary><h3 id='AiFDh'><span class='ne-text' style='color: rgb(88, 90, 115); background-color: rgba(255, 255, 255, 0)'>方法描述</span></h3><p id='ue1664bdc' class='ne-p'><span class='ne-text' style='color: rgb(88, 90, 115); background-color: rgba(255, 255, 255, 0)'>该论文提出了一种名为PC Agent-E的高效训练框架，用于提高计算机使用能力，并具有显著的数据效率。">
<meta property="og:title" content="[论文笔记] Efficient Agent Training for Computer Use">
<meta property="og:description" content="官方仓库：[https://github.com/GAIR-NLP/PC-Agent-E](https://github.com/GAIR-NLP/PC-Agent-E)

<details class='lake-collapse'><summary id='u7e8ced35'><span class='ne-text' style='font-size: 16px'>【AI整理】论文速读</span></summary><h3 id='AiFDh'><span class='ne-text' style='color: rgb(88, 90, 115); background-color: rgba(255, 255, 255, 0)'>方法描述</span></h3><p id='ue1664bdc' class='ne-p'><span class='ne-text' style='color: rgb(88, 90, 115); background-color: rgba(255, 255, 255, 0)'>该论文提出了一种名为PC Agent-E的高效训练框架，用于提高计算机使用能力，并具有显著的数据效率。">
<meta property="og:type" content="article">
<meta property="og:url" content="https://qiakachi.github.io/post/%5B-lun-wen-bi-ji-%5D%20Efficient%20Agent%20Training%20for%20Computer%20Use.html">
<meta property="og:image" content="https://avatars.githubusercontent.com/u/98450248?v=4">
<title>[论文笔记] Efficient Agent Training for Computer Use</title>



</head>
<style>
body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin-top:64px; text-align: center;font-size: small;}

</style>

<style>
.postTitle{margin: auto 0;font-size:40px;font-weight:bold;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#postBody{border-bottom: 1px solid var(--color-border-default);padding-bottom:36px;}
#postBody hr{height:2px;}
#cmButton{height:48px;margin-top:48px;}
#comments{margin-top:64px;}
.g-emoji{font-size:24px;}
@media (max-width: 600px) {
    body {padding: 8px;}
    .postTitle{font-size:24px;}
}

</style>




<body>
    <div id="header">
<h1 class="postTitle">[论文笔记] Efficient Agent Training for Computer Use</h1>
<div class="title-right">
    <a href="https://qiakachi.github.io" id="buttonHome" class="btn btn-invisible circle" title="首页">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd"></path>
        </svg>
    </a>
    
    <a href="https://github.com/QiakaChi/qiakachi.github.io/issues/3" target="_blank" class="btn btn-invisible circle" title="Issue">
        <svg class="octicon" width="16" height="16">
            <path id="pathIssue" fill-rule="evenodd"></path>
        </svg>
    </a>
    

    <a class="btn btn-invisible circle" onclick="modeSwitch();" title="切换主题">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </a>

</div>
</div>
    <div id="content">
<div class="markdown-body" id="postBody"><p>官方仓库：<a href="https://github.com/GAIR-NLP/PC-Agent-E">https://github.com/GAIR-NLP/PC-Agent-E</a></p>
<details><summary id="user-content-u7e8ced35"><span>【AI整理】论文速读</span></summary><h3 id="user-content-aifdh"><span>方法描述</span></h3><p id="user-content-ue1664bdc"><span>该论文提出了一种名为PC Agent-E的高效训练框架，用于提高计算机使用能力，并具有显著的数据效率。该方法通过</span><strong><span>结合真实的人机交互和多样化的动作决策来生成高质量的行为轨迹数据</span></strong><span>，从而在现实性和多样性方面都具有优势。 具体来说，该方法首先收集了少量的任务轨迹数据，记录屏幕状态观察和人类行为，然后过滤掉错误的步骤和轨迹。接着，利用这些数据重建人类思考过程之前的状态，基于相应的屏幕状态观察和历史步长上下文。然后，将人类轨迹作为环境快照，使用Claude模型合成多样化替代动作决策，最后开发出PC Agent-E模型，该模型是在增强后的轨迹上进行简单端到端训练的最先进的本地代理模型。</span></p><h3 id="user-content-otj7k"><span>方法改进</span></h3><p id="user-content-u115c18ca"><span>该方法改进了之前的任务收集方式，通过</span><strong><span>手动组成小种子集并使用LLMs扩大范围</span></strong><span>来生成任务，使得任务更加丰富。同时，该方法还引入了规则基础的过滤器来去除整个轨迹或单个步骤中的错误或其他不良行为，确保数据质量。此外，该方法还使用了一个迭代的过程来</span><strong><span>重构隐含的思考过程</span></strong><span>，以及一个简单的但有效的方法——Trajectory Boost，以增加轨迹的多样性。</span></p><h3 id="user-content-skyw6"><span>解决的问题</span></h3><p id="user-content-u72ee1835"><span>该方法解决了计算机使用代理模型的训练问题，通过生成高质量的行为轨迹数据来提高计算机使用能力，并且具有显著的数据效率。此外，该方法还改善了任务收集方式、数据过滤和轨迹多样性等方面，提高了评估可靠性。</span></p></details>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/22abfe227f8df126068e2d5977de7433cede20797f8aa7320d33418799a14980/68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032352f706e672f33393033393638382f313735343437353431323930302d30386332656662662d666138622d343963652d386363612d6434656330303137326335302e706e67"><img src="https://camo.githubusercontent.com/22abfe227f8df126068e2d5977de7433cede20797f8aa7320d33418799a14980/68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032352f706e672f33393033393638382f313735343437353431323930302d30386332656662662d666138622d343963652d386363612d6434656330303137326335302e706e67" alt="" data-canonical-src="https://cdn.nlark.com/yuque/0/2025/png/39039688/1754475412900-08c2efbf-fa8b-49ce-8cca-d4ec00172c50.png" style="max-width: 100%;"></a></p>
<h1>1. 训练阶段：轨迹数据收集与合成</h1>
<h2>1.1. Trajectory Collection（PC Tracker）</h2>
<p>✅支持 Windows 操作系统</p>
<p>官方仓库：<a href="https://github.com/GAIR-NLP/PC-Agent">https://github.com/GAIR-NLP/PC-Agent</a></p>
<p>用户手册：<a href="https://github.com/GAIR-NLP/PC-Agent/blob/main/tracker/README_zh.md">https://github.com/GAIR-NLP/PC-Agent/blob/main/tracker/README_zh.md</a></p>
<p>PC Tracker 采集人类与 PC 的交互轨迹。</p>
<blockquote>
<p>PC Tracker 是一个轻量级工具，用于高效收集大规模真实人机交互轨迹。类似于屏幕录制，PC Tracker在后台无缝运行，自动捕获屏幕截图和键鼠操作。收集到的人机交互轨迹示例如下：</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/GAIR-NLP/PC-Agent/raw/main/assets/raw_trajectory_example.png"><img src="https://github.com/GAIR-NLP/PC-Agent/raw/main/assets/raw_trajectory_example.png" alt="" style="max-width: 100%;"></a></p>
</blockquote>
<p>借助PC Tracker，获取了 312 条人类轨迹数据。</p>
<h2>1.2. Thought Completion</h2>
<p>上一步中我们得到了人类的操作轨迹，在这一步我们将把原始的人类轨迹数据转化为有思考的轨迹（trajectory with thoughts）。</p>
<p>PC Agent-E 为 Claude 3.7 Sonnet 提供：任务描述，历史动作（with constructed thought processes）当前动作和相关截图，并结合对应 prompt（见论文附录 B.1 部分），得到关于“人类为什么会进行这一步操作”的推理。</p>
<details><summary id="user-content-u82a5d5c3"><span>【翻译】论文附录 B.1 部分 Thought Completion Prompt</span></summary><h3 id="user-content-lxwhf"><span>表格4：思维补全提示</span></h3><h4 id="user-content-msbxi"><span>思维补全提示</span></h4><p id="user-content-ucfcc1228"><span>你是一个用于在计算机上完成任务的有帮助的算机使用智能体。你的目标是重现你在执行特定操作背后的思维过程。</span></p><p id="user-content-u005130d6"><span>你将获得以下信息：</span></p><ol><li id="user-content-u8865b617"><span>你试图完成的任务。</span></li><li id="user-content-u3789e20c"><span>你已执行步骤的历史记录（如有，最多 50 条；如果是第一个操作，则无）。</span></li><li id="user-content-u943d11b8"><span>你选择执行的特定操作。</span></li><li id="user-content-u044d3b0a"><span>你点击的元素名称（如果你点击了某个元素）。如果名称过于笼统模糊，你需要根据截图判断点击什么。</span></li><li id="user-content-ufe1eaeef"><span>你决定执行操作时计算机屏幕的截图。</span></li><li id="user-content-uebf8dc31"><span>截图上的红色标记指示点击或拖动操作的位置。</span></li></ol><p id="user-content-ubbafcff5"><span>要梳理你的思维过程，请考虑：</span></p><ol><li id="user-content-u51b92fcf"><span>你在屏幕上观察到了什么？分析当前截图时，要结合你的任务和之前的操作。</span></li><li id="user-content-u68ad207c"><span>（如适用）评估你之前的操作：</span></li></ol><ul><ul><li id="user-content-u83d6fb77"><span>它是否达到了预期效果？如果没有，找出可能的原因（例如，误点击、元素未激活）。<br></span><span> 无效操作的一些典型示例：</span></li><li id="user-content-u75ae0679"><span>在空白处误点击</span></li><li id="user-content-u9aa8bcfc"><span>点击一些无效元素（未双击）</span></li><li id="user-content-ud1bf86c8"><span>因输入框未激活而无效的打字/按键操作</span></li><li id="user-content-ud5984d58"><span>结果是否与你之前的计划一致，还是发生了意外情况？<br></span><span> 无效操作的一些典型示例：</span></li><li id="user-content-u2878f1ba"><span>误点击错误元素</span></li><li id="user-content-ucef94c93"><span>忘记清除输入栏中已有的文本</span></li></ul></ul><ol start="3"><li id="user-content-ud598328b"><span>根据你的操作历史，评估你在完成整体任务方面的进度。</span></li><li id="user-content-u1531327f"><span>考虑是否因为之前步骤中的尝试失败，你正在摸索如何完成任务。</span></li></ol><p id="user-content-u87c91f95"><span>将你的思维过程以清晰、自然的第一人称叙述呈现，解释你当时的推理。</span></p><p id="user-content-ud9032634"><span>重要要求：</span></p><ol><li id="user-content-uf1e28182"><strong><span>切勿</span></strong><span>在回复中提及红色标记。这些标记是</span><strong><span>事后</span></strong><span>添加的，用于指示你的点击或拖动操作的位置，在你做决定时，它们并不在屏幕上。</span><strong><span>切勿</span></strong><span>在回复中提及 “红框”“红圈”“红箭头” 等表述。</span></li><li id="user-content-ue51028ba"><span>写作时，要仿佛你在执行操作前实时思考一样。不要包含操作后的评估或事后的感悟。</span></li></ol><p id="user-content-u6db3b634"><span>你试图完成的任务：{task_description} <br></span><span>你的操作历史：{history_str} <br></span><span>你选择执行的特定操作：{action}</span></p></details>
<h2>1.3. Trajectory Boost</h2>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/78f3741bdd4a83b1802722a87bf0a79a02c9c6b1cfcbcbcb1ebd95af8ceec54c/68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032352f706e672f33393033393638382f313735343438353237373737342d31376436363737372d323361352d343062662d396464312d3465643665396566383064632e706e67"><img src="https://camo.githubusercontent.com/78f3741bdd4a83b1802722a87bf0a79a02c9c6b1cfcbcbcb1ebd95af8ceec54c/68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032352f706e672f33393033393638382f313735343438353237373737342d31376436363737372d323361352d343062662d396464312d3465643665396566383064632e706e67" alt="" data-canonical-src="https://cdn.nlark.com/yuque/0/2025/png/39039688/1754485277774-17d66777-23a5-40bf-9dd1-4ed6e9ef80dc.png" style="max-width: 100%;"></a></p>
<p>进行 Boost 的理论依据是同一个任务可能会有多种轨迹（eg. 我在 Win11 打开QQ邮箱，既可以单击QQ图标→单击邮箱图标，也可以打开浏览器→在地址栏输入<code class="notranslate">https://wx.mail.qq.com/</code>）。Trajectory Boost 收集这些没有被人类执行的可选方案。</p>
<p>PC Agent-E 为 Claude 3.7 Sonnet 提供：现有的任务轨迹、屏幕截图和历史上下文，并结合对应 prompt（见论文附录 B.2 部分）。</p>
<p>经过 Boost，数据从 312 条增长到 27,000 条左右。</p>
<details><summary id="user-content-u85b7ade4"><span>【翻译】论文附录 B.2 部分 Trajectory Boost Prompt</span></summary><h3 id="user-content-uz0vq"><span>表格5：轨迹增强提示</span></h3><h4 id="user-content-w6q22"><span>轨迹增强提示</span></h4><p id="user-content-ufd3ac01e"><span>你是一个 有帮助的助手，可协助用户完成计算机任务，且</span><strong><span>完全有权限</span></strong><span>对用户的计算机进行任何操作。操作系统为 Windows 。</span><span>基于所提供的当前状态，你需要提出完成任务的下一步操作。</span><span>不要试图一步完成整个任务，要将其拆分为更小的步骤，每一步操作后会得到新状态，以便继续交互。</span></p><p id="user-content-uc5304a26"><strong><span>重要规则</span></strong><span>：你必须严格遵守以下规则：</span></p><ol><li id="user-content-uedef705c"><span>每次回复仅从以下列表中选择</span><strong><span>一个</span></strong><span>操作，每一步不要执行多个操作。 </span></li><li id="user-content-u89a548cf"><span>严格遵循所选操作的语法格式，不要创建或使用列表外的任何操作。 </span></li><li id="user-content-u1e26c57a"><span>任务完成后，输出 “action finish” 。</span></li></ol><h3 id="user-content-wr47e"><span>有效操作</span></h3><ol><li id="user-content-u13ff492e"><strong><span>click (x, y)</span></strong><span>：点击屏幕上坐标为 (x, y) 位置的元素 </span></li><li id="user-content-ue95e9b7b"><strong><span>right click (x, y)</span></strong><span>：右键点击屏幕上坐标为 (x, y) 位置的元素 </span></li><li id="user-content-u5d7dc6b4"><strong><span>double click (x, y)</span></strong><span>：双击屏幕上坐标为 (x, y) 位置的元素 </span></li><li id="user-content-ue1a88210"><strong><span>drag from (x1, y1) to (x2, y2)</span></strong><span>：将元素从位置 (x1, y1) 拖动到 (x2, y2) </span></li><li id="user-content-u90841079"><strong><span>scroll (x)</span></strong><span>：垂直滚动屏幕，偏移像素为 x 。x 为正值时向上滚动，为负值时向下滚动 </span></li><li id="user-content-ufa981b69"><strong><span>press key: key_content</span></strong><span>：按下键盘上 key_content 对应的按键 </span></li><li id="user-content-u9c556b64"><strong><span>hotkey (key1, key2)</span></strong><span>：按下由 key1 和 key2 组成的快捷键 </span></li><li id="user-content-ue594ee4e"><strong><span>hotkey (key1, key2, key3)</span></strong><span>：按下由 key1、key2 和 key3 组成的快捷键 </span></li><li id="user-content-u8acf0c55"><strong><span>type text: text_content</span></strong><span>：在键盘输入 text_content 内容。注意，输入文字前，需确保文本框或输入字段已激活 / 获得焦点。若文本框未激活，应先点击激活它，然后在单独步骤中使用 “type text” 操作 </span></li><li id="user-content-u72d51931"><strong><span>wait</span></strong><span>：等待一段时间，通常用于等待系统响应、屏幕刷新、广告结束 </span></li><li id="user-content-u97399e5b"><strong><span>finish</span></strong><span>：表明任务已完成 </span></li><li id="user-content-u00eb7a0b"><strong><span>fail</span></strong><span>：表明任务失败，即因提供信息不足，任务无法执行</span></li></ol><p id="user-content-u8bbc14e4"><span>在决定下一步操作前，需仔细考量屏幕当前状态和操作历史。思维过程应涵盖以下要点：</span></p><ol><li id="user-content-u03abf1eb"><span>你在屏幕上观察到了什么？分析当前截图时，结合任务和之前的操作。 </span></li><li id="user-content-u43ee4610"><span>（如适用）之前的计划和操作是怎样的？分三种情况评估之前的操作：</span></li></ol><ol><ol><li id="user-content-u69e45906"><span>操作无任何效果。应找出可能原因（如误点击、元素未激活），并在本步骤调整计划。 <br></span><span> 无效操作的典型示例：</span></li></ol></ol><ul><ul><li id="user-content-ue5461e06"><span>在空白处误点击 </span></li><li id="user-content-u201d53b7"><span>未双击打开部分元素，操作无效 </span></li><li id="user-content-u2e0476e6"><span>因输入框未激活，打字 / 按键操作无效</span></li></ul></ul><ol><ol start="2"><li id="user-content-u14fed9f0"><span>操作有效果，但结果与之前计划不一致。应找出可能原因（如误点击、元素未激活），并在本步骤纠正。 <br></span><span> 无效操作的典型示例：</span></li></ol></ol><ul><ul><li id="user-content-u57a3ff9b"><span>误点击错误元素 </span></li><li id="user-content-ua9bbc4c2"><span>忘记清除输入栏中已有的文本</span></li></ul></ul><ol><ol start="2"><li id="user-content-u189bae3e"><span>操作有效果，且与之前计划一致。应基于当前状态推进到下一步。</span></li></ol></ol><ol start="3"><li id="user-content-u8981af18"><span>根据操作历史，评估完成整体任务的进度。 </span></li><li id="user-content-ud4cc1e86"><span>若之前步骤中有失败尝试，探索完成任务的新方法。</span><strong><span>切勿重复</span></strong><span>历史操作。</span></li></ol><h3 id="user-content-qi1jq"><span>回复格式</span></h3><p id="user-content-u5b4a6d66"><span>Your thought process（你的思维过程）</span></p><p id="user-content-u7b9ccc33"><span>Action: The specific action you choose to take.（操作：你选择执行的具体操作） </span></p><p id="user-content-u64f45e78"><span>你试图完成的任务：</span><span>{task_description} </span><span><br></span><span>你的操作历史：</span><span>{history_str} </span><span><br></span><span>现有如下</span><span>截图</span><span>。为协助完成任务，你接下来会执行哪一步操作？</span></p></details>
<h2>1.4. Agent Training</h2>
<p>PC Agent-E 为 Claude 3.7 Sonnet 提供：任务描述，历史和截图，并结合对应 prompt（见论文附录 B.3 部分）。输出为 &lt;thought, action&gt;。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/660bbed82355a503710c01c6b6d951ff59a5935b43ece5f135acab7d88b88fb3/68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032352f706e672f33393033393638382f313735343331363633383436332d32356536303262642d346266382d343032652d626435332d3162353461323537623834652e706e67"><img src="https://camo.githubusercontent.com/660bbed82355a503710c01c6b6d951ff59a5935b43ece5f135acab7d88b88fb3/68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032352f706e672f33393033393638382f313735343331363633383436332d32356536303262642d346266382d343032652d626435332d3162353461323537623834652e706e67" alt="" data-canonical-src="https://cdn.nlark.com/yuque/0/2025/png/39039688/1754316638463-25e602bd-4bf8-402e-bd53-1b54a257b84e.png" style="max-width: 100%;"></a></p>
<p>由仓库中 train/sft.yaml 内容可知，Agent Training 的方式为：</p>
<ul>
<li>SFT（有监督微调），即从预训练的开源模型（Qwen2.5-VL-72B-Instruct）之后继续训练  ；</li>
<li>全参数微调（而非LoRA等）；</li>
<li>数据集：Boost 后的轨迹数据；</li>
<li>使用了 LLaMA-Factory 框架进行 Agent 训练（README.md）。</li>
</ul>
<details><summary id="user-content-u3ab48f59"><span>【翻译】论文附录 B.3 部分 </span><span>PC Agent-E scaffold Promp</span></summary><h3 id="user-content-dl6v2"><span>表格6：PC Agent - E 脚手架提示</span></h3><h4 id="user-content-xrzax"><span>PC Agent - E 脚手架提示</span></h4><p id="user-content-u3c4b7df3"><span>你是一个有帮助的助手，能够协助用户完成计算机任务，且</span><strong><span>完全有权限</span></strong><span>对用户的计算机进行任何操作。基于所提供的当前状态，</span><span>你需要提出完成任务的下一步操作</span><span>。不要试图一步完成整个任务，要把它拆分成更小的步骤，每一步操作后你会获得一个新状态以继续交互。</span></p><p id="user-content-u079741c8"><strong><span>重要提示</span></strong><span>：你必须严格遵守以下规则：</span></p><ol><li id="user-content-u9aa511e3"><span>每次回复仅从以下列表中选择</span><strong><span>一个</span></strong><span>操作，每一步不要执行多个操作。</span></li><li id="user-content-u572af8ff"><span>严格遵循所选操作的语法格式，不要创建或使用列表之外的任何操作。</span></li><li id="user-content-u807b2e52"><span>一旦任务完成，输出 “finish” 。</span></li></ol><h3 id="user-content-n5ill"><span>有效操作</span></h3><ol><li id="user-content-ub25e3442"><strong><span>click (x, y)</span></strong><span>：点击屏幕上坐标为 (x, y) 位置的元素 </span></li><li id="user-content-u6a8f54ed"><strong><span>right click (x, y)</span></strong><span>：右键点击屏幕上坐标为 (x, y) 位置的元素 </span></li><li id="user-content-udd435aa3"><strong><span>double click (x, y)</span></strong><span>：双击屏幕上坐标为 (x, y) 位置的元素 </span></li><li id="user-content-u86a32297"><strong><span>drag from (x1, y1) to (x2, y2)</span></strong><span>：将元素从位置 (x1, y1) 拖动到 (x2, y2) </span></li><li id="user-content-u50ec1ce7"><strong><span>scroll (x)</span></strong><span>：垂直滚动屏幕，偏移像素为 x 。x 为正值时向上滚动，为负值时向下滚动 </span></li><li id="user-content-ub20fb38f"><strong><span>press key: key_content</span></strong><span>：按下键盘上 key_content 对应的按键 </span></li><li id="user-content-u707dfc67"><strong><span>hotkey (key1, key2)</span></strong><span>：按下由 key1 和 key2 组成的快捷键 </span></li><li id="user-content-u9c07f036"><strong><span>hotkey (key1, key2, key3)</span></strong><span>：按下由 key1、key2 和 key3 组成的快捷键 </span></li><li id="user-content-ubcbb3fee"><strong><span>type text: text_content</span></strong><span>：在键盘输入 text_content 内容 </span></li><li id="user-content-u60cc4fdb"><strong><span>wait</span></strong><span>：等待一段时间，通常用于等待系统响应、屏幕刷新、广告结束 </span></li><li id="user-content-ud93821b0"><strong><span>finish</span></strong><span>：表明任务已完成 </span></li><li id="user-content-u53657c0e"><strong><span>fail</span></strong><span>：表明任务失败，即因提供信息不足，任务无法执行</span></li></ol><h3 id="user-content-dh7ff"><span>回复格式</span></h3><p id="user-content-u9cdca1d4"><span>{Your thought process}</span><span>（你的思维过程）</span></p><p id="user-content-uaa523f9e"><span>Action: {The specific action you choose to take}（操作：你选择执行的具体操作） </span></p><p id="user-content-u47f94126"><span>你的任务是：</span><span>{task_description} </span><span><br></span><span>为达到当前屏幕状态，你之前的操作和思路历史：</span><span>{history_str} </span><span><br></span><span>结合</span><span>截图</span><span>，你接下来会执行哪一步操作来协助完成任务？</span></p></details>
<details><summary id="user-content-u083d6018"><span>【笔记】LLaMA-Factory 框架</span></summary><p id="user-content-u93bc5f24"><span>官方仓库：</span><a href="https://github.com/hiyouga/LLaMA-Factory"><span>https://github.com/hiyouga/LLaMA-Factory</span></a></p><p id="user-content-u4efb6905"><span>LLaMA-Factory 支持多种预训练模型和微调算法，提供了一套完整的工具和接口，使得用户能够轻松地对预训练的模型进行定制化的训练和调整，以适应特定的应用场景。</span></p><p id="user-content-u7fe859e3"><span></span></p><p id="user-content-u5f7b4f5a"><span>类似的还有peft库。</span></p></details>
<h1>2. 测试阶段：任务集的选取与评估</h1>
<details><summary id="user-content-ue6dfd558"><span>【笔记】Benchmark 和 Baseline</span></summary><p id="user-content-u946861c6"><span>Benchmark 是于用于评测方法表现的任务/平台，是评测环境，相当于“一个考场、一张试卷”；Baseline 是于一组用于比较的已有方法/模型，是对比对象，相当于“其他考生”。 Benchmark 的目的是为了</span><strong><span>公平评估模型性能</span></strong><span>，而 Baseline 的目的是为了</span><strong><span>作为参照，验证新方法的改进效果</span></strong><span>。  </span></p><div id="user-content-xtww4"><a href="https://zhuanlan.zhihu.com/p/31427279391" rel="nofollow">https://zhuanlan.zhihu.com/p/31427279391</a></div></details>
<h2>2.1. Benchmark</h2>
<p>论文中使用的 Benchmark 为 WindowsAgentArena V2 和 OSWorld。</p>
<h3>2.1.1. WindowsAgentArena</h3>
<p>官方仓库：<a href="https://github.com/microsoft/WindowsAgentArena">https://github.com/microsoft/WindowsAgentArena</a></p>
<blockquote>
<p>Windows Agent Arena (WAA) 是一个可扩展的 Windows AI Agent 平台，用于测试和基准化多模态、桌面 AI Agent。WAA 为研究人员和开发人员提供了一个可重复和逼真的 Windows 操作系统环境，用于 AI 研究，其中可以在各种任务中测试 Agent AI 工作流程。</p>
</blockquote>
<details><summary id="user-content-u14cc67ff"><span>配置和安装 WindowsAgentArena</span></summary><p id="user-content-u19ca677a"><span>✅</span><span>Docker 部署。</span></p><p id="user-content-ubd7f5e8d"><span>✅</span><span>Python环境：推荐 Python 3.9。</span></p><p id="user-content-ube10ea15"><span>✅</span><span>被评估的虚拟机系统：Windows 11。</span></p></details>
<h3>2.1.2. WindowsAgentArena V2（使用）</h3>
<p>本论文在 WindowsAgentArena 的基础上进行了以下改进，并最终在 V2 进行评估。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/a63262fbd852c83fe25605c87e67e02465863ffe754c7ec3f796c512e333f340/68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032352f706e672f33393033393638382f313735343438323738363037372d37653532363666622d316536312d346332642d613261652d3931316336663238336439382e706e67"><img src="https://camo.githubusercontent.com/a63262fbd852c83fe25605c87e67e02465863ffe754c7ec3f796c512e333f340/68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032352f706e672f33393033393638382f313735343438323738363037372d37653532363666622d316536312d346332642d613261652d3931316336663238336439382e706e67" alt="" data-canonical-src="https://cdn.nlark.com/yuque/0/2025/png/39039688/1754482786077-7e5266fb-1e61-4c2d-a2ae-911c6f283d98.png" style="max-width: 100%;"></a></p>
<ol>
<li>解决了评估依赖性问题。</li>
</ol>
<p>原始基准测试在任务评估之间缺乏虚拟机状态的重置，可能导致前一任务的更改影响后续任务。</p>
<p>V2 实现了每次评估前恢复虚拟机快照的功能，以确保一致的初始状态，避免任务间的相互干扰。此外还安装了一些原始虚拟机快照中缺失但正确评估所必需的基本软件。</p>
<ol start="2">
<li>防止不可行攻击（infeasible hacking）。</li>
</ol>
<p>有些任务由于系统功能已弃用或用户生成的幻觉指令等原因而根本无法实现。这些任务的评估依据是：若在执行过程中输出“FAIL”，即可认定任务成功。这种评估方法使 Agent 在不可行的任务上获得了高分，而无需展示出有意义的能力。</p>
<p>V2 移除了所有不可行任务以提高评估的公平性。</p>
<ol start="3">
<li>确保虚拟机初始状态的稳定性。</li>
</ol>
<p>任务初始配置后虚拟机的状态经常会出现网络连接不稳定、软件启动失败或系统延迟等问题。</p>
<p>V2 为了验证初始状态，结合了基于规则（rule-based）和基于LLM的评估。并引入重试机制，允许对初始化错误进行重启尝试，降低了由硬件带来的初始化失败率。</p>
<ol start="4">
<li>修正评估中的缺陷。</li>
</ol>
<p>一些评估函数存在漏洞或缺乏稳健性。</p>
<p>V2 识别并纠正了几处评估错误，并在一些复杂任务上依赖人工评估人员，以提高评估的可靠性。</p>
<h3>2.1.3. OSWorld（使用）</h3>
<p>官方仓库：<a href="https://github.com/xlang-ai/OSWorld">https://github.com/xlang-ai/OSWorld</a></p>
<p>OSWorld 是一个用于评估多模态智能体在真实计算机环境中执行开放式任务能力的基准测试平台。</p>
<details><summary id="user-content-u6927edee"><span>配置和安装 OSWorld</span></summary><p id="user-content-ue85d8abe"><span>✅</span><span>宿主操作系统：支持 Ubuntu，Windows 或 Mac OS。支持 Docker。</span></p><p id="user-content-ubf677516"><span>✅</span><span>Python环境：要求 Python&gt;=3.10。</span></p><p id="user-content-ue78945e1"><span>✅</span><span>虚拟机软件：支持</span><span> VMware Workstation Pro（Windows/Linux）、VMware Fusion（macOS）和 VirtualBox。</span></p><p id="user-content-ub9769b77"><span>✅</span><span>被评估的虚拟机系统：Ubuntu，Windows 或 Mac OS。</span></p></details>
<h2>2.2. Baseline</h2>
<p>Claude / UI-TARS / Qwen 等。</p>
<h2>2.3. 实验结果</h2>
<h3>2.3.1. 性能评估（WindowsAgentArena-V2）</h3>
<ol>
<li>结果</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/b92812c37f00d1c66ed590f15c820ef4ca0ec0d80781c8279479138104c04752/68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032352f706e672f33393033393638382f313735343438313733333134302d38366237393562642d326266622d343933622d616631322d6366613664643665383032632e706e67"><img src="https://camo.githubusercontent.com/b92812c37f00d1c66ed590f15c820ef4ca0ec0d80781c8279479138104c04752/68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032352f706e672f33393033393638382f313735343438313733333134302d38366237393562642d326266622d343933622d616631322d6366613664643665383032632e706e67" alt="" data-canonical-src="https://cdn.nlark.com/yuque/0/2025/png/39039688/1754481733140-86b795bd-2bfb-493b-af12-cfa6dd6e802c.png" style="max-width: 100%;"></a></p>
<ol start="2">
<li>结论</li>
</ol>
<p>通过一组数量极少但质量极高的轨迹数据，即可获得计算机使用的复杂智能体能力。</p>
<ol start="3">
<li>分析</li>
</ol>
<p>（1）Real-world task completion，记录了真实的交互过程，并确保任务的成功执行；</p>
<p>（2）多样化的行动决策，由前沿模型生成，在每一步超越人类标注者所选择的单一解决方案，以理性思考生成多种合理的行动方案。</p>
<p>（3）对50条 Qwen 犯错而 PC Agent-E 不犯错的，和Qwen 和 PC Agent-E 都犯错的轨迹进行分析：</p>
<ul>
<li>这些失败可分为三种类型，这些类型可能在同一任务轨迹甚至单一步骤中同时出现：（1）Knowledge：模型可能缺乏特定的计算机使用知识。（2）Planning：模型可能做出错误的动作决策，例如未能识别并纠正先前的错误操作。（3）Grounding：即使模型的规划正确，执行的动作也可能与其规划过程不一致，主要表现为鼠标点击错误。</li>
<li>PC Agent-E 改进主要源于长期规划能力的提升。训练后的 PC Agent-E 生成的思考过程明显更长，并在验证、反思和自我修正方面表现出更强的推理能力。</li>
<li>Qwen2.5-VL-72B 和 PC Agent-E 有时也会因 Grounding 和 Knowledge 问题而出现失败。</li>
</ul>
<h3>2.3.2. 验证 Trajectory Boost 效果的训练时期的动作增强</h3>
<p>在训练过程中改变所使用的合成动作数量，并评估模型性能。</p>
<ol>
<li>结果</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/523d7b130f97472ea02b09aeee54db4faeb685a1ee63a49409ffc74d9bc7011a/68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032352f706e672f33393033393638382f313735343438343133303437382d31353363646537632d623032352d343430382d616233662d3035333233666234353337662e706e67"><img src="https://camo.githubusercontent.com/523d7b130f97472ea02b09aeee54db4faeb685a1ee63a49409ffc74d9bc7011a/68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032352f706e672f33393033393638382f313735343438343133303437382d31353363646537632d623032352d343430382d616233662d3035333233666234353337662e706e67" alt="" data-canonical-src="https://cdn.nlark.com/yuque/0/2025/png/39039688/1754484130478-153cde7c-b025-4408-ab3f-05323fb4537f.png" style="max-width: 100%;"></a></p>
<ol start="2">
<li>结论</li>
</ol>
<p>随着动作决策数量的增加，模型性能显著提升。与仅基于人类轨迹训练相比，PC Agent-E 实现了显著更高的增益。</p>
<h3>2.3.3. 测试时期的动作增强</h3>
<p>评估该模型在任务执行过程中允许的最大步数情况下的区别。</p>
<ol>
<li>结果</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/d933235bff25f7b2ac52aa67815e8879cca75da5bf9716a6a5e12c9ef9af9063/68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032352f706e672f33393033393638382f313735343438343533333833312d32363432633464312d366435342d343536632d613738392d3862323934643330633864332e706e67"><img src="https://camo.githubusercontent.com/d933235bff25f7b2ac52aa67815e8879cca75da5bf9716a6a5e12c9ef9af9063/68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032352f706e672f33393033393638382f313735343438343533333833312d32363432633464312d366435342d343536632d613738392d3862323934643330633864332e706e67" alt="" data-canonical-src="https://cdn.nlark.com/yuque/0/2025/png/39039688/1754484533831-2642c4d1-6d54-456c-a789-8b294d30c8d3.png" style="max-width: 100%;"></a></p>
<ol start="2">
<li>结论</li>
</ol>
<p>PC Agent-E 在测试阶段能更好地利用更长的执行时间（执行动作的步数），表现出更强的适应性和修复能力。</p>
<h3>2.3.4. 跨平台的泛化能力（OSWorld）</h3>
<ol>
<li>结果</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/e5e132f1db30baced2ed1e074929af7867daa9871433aa30f3a673fc83d083e2/68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032352f706e672f33393033393638382f313735343438343738383038362d36373837373038332d643230642d346461392d626165302d3163636434653132643935652e706e67"><img src="https://camo.githubusercontent.com/e5e132f1db30baced2ed1e074929af7867daa9871433aa30f3a673fc83d083e2/68747470733a2f2f63646e2e6e6c61726b2e636f6d2f79757175652f302f323032352f706e672f33393033393638382f313735343438343738383038362d36373837373038332d643230642d346461392d626165302d3163636434653132643935652e706e67" alt="" data-canonical-src="https://cdn.nlark.com/yuque/0/2025/png/39039688/1754484788086-67877083-d20d-4da9-bae0-1ccd4e12d95e.png" style="max-width: 100%;"></a></p>
<ol start="2">
<li>分析</li>
</ol>
<p>（1）PC Agent-E 具有强大的跨平台泛化能力。</p>
<p>（2）不可行的攻击（infeasible hacking）。较弱的 Qwen2.5-VL-72B 模型在不可行任务上表现出显著更好的性能。表明当前对不可行任务的评估方法并未准确反映计算机使用代理的能力。未来的研究可以着眼于设计更强的不可行任务评估标准，包括评估代理在声明任务为不可能时的理由，以尽量减少利用性行为。</p></div>
<div style="font-size:small;margin-top:8px;float:right;"></div>

<button class="btn btn-block" type="button" onclick="openComments()" id="cmButton">评论</button>
<div class="comments" id="comments"></div>

</div>
    <div id="footer"><div id="footer1">Copyright © <span id="copyrightYear"></span> <a href="https://qiakachi.github.io">QiakaChi's Note</a></div>
<div id="footer2">
    <span id="runday"></span><span>Powered by <a href="https://meekdai.com/Gmeek.html" target="_blank">Gmeek</a></span>
</div>

<script>
var now=new Date();
document.getElementById("copyrightYear").innerHTML=now.getFullYear();

if(""!=""){
    var startSite=new Date("");
    var diff=now.getTime()-startSite.getTime();
    var diffDay=Math.floor(diff/(1000*60*60*24));
    document.getElementById("runday").innerHTML="网站运行"+diffDay+"天"+" • ";
}
</script></div>
</body>
<script>
var IconList={'sun': 'M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z', 'moon': 'M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z', 'sync': 'M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z', 'home': 'M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z', 'github': 'M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z'};
var utterancesLoad=0;

let themeSettings={
    "dark": ["dark","moon","#00f0ff","dark-blue"],
    "light": ["light","sun","#ff5000","github-light"],
    "auto": ["auto","sync","","preferred-color-scheme"]
};
function changeTheme(mode, icon, color, utheme){
    document.documentElement.setAttribute("data-color-mode",mode);
    document.getElementById("themeSwitch").setAttribute("d",value=IconList[icon]);
    document.getElementById("themeSwitch").parentNode.style.color=color;
    if(utterancesLoad==1){utterancesTheme(utheme);}
}
function modeSwitch(){
    let currentMode=document.documentElement.getAttribute('data-color-mode');
    let newMode = currentMode === "light" ? "dark" : currentMode === "dark" ? "auto" : "light";
    localStorage.setItem("meek_theme", newMode);
    if(themeSettings[newMode]){
        changeTheme(...themeSettings[newMode]);
    }
}
function utterancesTheme(theme){
    const message={type:'set-theme',theme: theme};
    const iframe=document.getElementsByClassName('utterances-frame')[0];
    iframe.contentWindow.postMessage(message,'https://utteranc.es');
}
if(themeSettings[theme]){changeTheme(...themeSettings[theme]);}
console.log("\n %c Gmeek last https://github.com/Meekdai/Gmeek \n","padding:5px 0;background:#02d81d;color:#fff");
</script>

<script>
document.getElementById("pathHome").setAttribute("d",IconList["home"]);
document.getElementById("pathIssue").setAttribute("d",IconList["github"]);



function openComments(){
    cm=document.getElementById("comments");
    cmButton=document.getElementById("cmButton");
    cmButton.innerHTML="loading";
    span=document.createElement("span");
    span.setAttribute("class","AnimatedEllipsis");
    cmButton.appendChild(span);

    script=document.createElement("script");
    script.setAttribute("src","https://utteranc.es/client.js");
    script.setAttribute("repo","QiakaChi/qiakachi.github.io");
    script.setAttribute("issue-term","title");
    
    if(localStorage.getItem("meek_theme")=="dark"){script.setAttribute("theme","dark-blue");}
    else if(localStorage.getItem("meek_theme")=="light") {script.setAttribute("theme","github-light");}
    else{script.setAttribute("theme","preferred-color-scheme");}
    
    script.setAttribute("crossorigin","anonymous");
    script.setAttribute("async","");
    cm.appendChild(script);

    int=self.setInterval("iFrameLoading()",200);
}

function iFrameLoading(){
    var utterances=document.getElementsByClassName('utterances');
    if(utterances.length==1){
        if(utterances[0].style.height!=""){
            utterancesLoad=1;
            int=window.clearInterval(int);
            document.getElementById("cmButton").style.display="none";
            console.log("utterances Load OK");
        }
    }
}



</script>


</html>
